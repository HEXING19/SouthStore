# South Store ğŸ›ï¸

> ç°ä»£åŒ–çš„å—éç”µå­å•†åŠ¡å¹³å°ï¼ŒåŸºäº Next.js 16 å’Œ Better Auth æ„å»º

[![Deployed on Vercel](https://img.shields.io/badge/Vercel-éƒ¨ç½²-black?style=for-the-badge&logo=vercel)](https://south-store.vercel.app)
[![License](https://img.shields.io/badge/License-MIT-green?style=for-the-badge)](LICENSE)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue?style=for-the-badge&logo=typescript)](https://www.typescriptlang.org/)
[![Next.js](https://img.shields.io/badge/Next.js-16-black?style=for-the-badge&logo=next.js)](https://nextjs.org/)

**South Store** æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ç”µå­å•†åŠ¡è§£å†³æ–¹æ¡ˆï¼Œä¸“ä¸ºå—éå¸‚åœºè®¾è®¡ã€‚å®ƒé›†æˆäº†ç°ä»£åŒ–çš„è®¤è¯ç³»ç»Ÿã€äº§å“ç®¡ç†ã€è´­ç‰©è½¦åŠŸèƒ½ï¼Œå¹¶æä¾›ç›´è§‚çš„ç®¡ç†åå°ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ›’ ç”¨æˆ·åŠŸèƒ½
- **äº§å“æµè§ˆ** - ä¼˜é›…çš„äº§å“å±•ç¤ºç½‘æ ¼
- **æ™ºèƒ½æœç´¢** - å®æ—¶æœç´¢äº§å“åç§°å’Œæè¿°
- **åˆ†ç±»è¿‡æ»¤** - æŒ‰ç±»åˆ«æµè§ˆï¼ˆClothing, Hardware, Home, Electronicsï¼‰
- **è´­ç‰©è½¦ç®¡ç†** - æ·»åŠ ã€ç§»é™¤å’Œæ›´æ–°å•†å“æ•°é‡
- **ç”¨æˆ·è®¤è¯** - æ”¯æŒé‚®ç®±å¯†ç å’Œ Google OAuth ç™»å½•
- **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯

### ğŸ”§ ç®¡ç†åŠŸèƒ½
- **äº§å“ CRUD** - å®Œæ•´çš„åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤äº§å“åŠŸèƒ½
- **åº“å­˜ç®¡ç†** - å®æ—¶æŸ¥çœ‹å’Œç®¡ç†åº“å­˜æ•°é‡
- **äº§å“ç¼–è¾‘** - ç›´è§‚çš„äº§å“ç¼–è¾‘ç•Œé¢
- **æ•°æ®æŒä¹…åŒ–** - æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨ Supabase PostgreSQL

### âš¡ æŠ€æœ¯ç‰¹æ€§
- **ç±»å‹å®‰å…¨** - å®Œæ•´çš„ TypeScript æ”¯æŒ + Zod éªŒè¯
- **æœåŠ¡ç«¯æ¸²æŸ“** - Next.js App Router æä¾›å‡ºè‰²çš„ SEO
- **æ€§èƒ½ä¼˜åŒ–** - Turbopack å®ç°å¿«é€Ÿæ„å»ºå’Œçƒ­æ›´æ–°
- **æ•°æ®åº“ ORM** - Drizzle ORM æä¾›ç±»å‹å®‰å…¨çš„æ•°æ®åº“æ“ä½œ
- **ç°ä»£ UI** - Tailwind CSS 4 + Radix UI ç»„ä»¶

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: [Next.js 16.1.6](https://nextjs.org/) (App Router + Turbopack)
- **UI åº“**: [React 19.2.0](https://react.dev/)
- **è¯­è¨€**: [TypeScript 5](https://www.typescriptlang.org/)
- **æ ·å¼**: [Tailwind CSS 4.1.16](https://tailwindcss.com/)
- **ç»„ä»¶åº“**: [Radix UI](https://www.radix-ui.com/)
- **å›¾æ ‡**: [Lucide React](https://lucide.dev/)
- **è¡¨å•**: [React Hook Form](https://react-hook-form.com/) + [Zod](https://zod.dev/)
- **é€šçŸ¥**: [Sonner](https://sonner.emilkowal.ski/)

### åç«¯
- **API**: Next.js API Routes
- **æ•°æ®åº“**: [PostgreSQL](https://www.postgresql.org/) (æ‰˜ç®¡åœ¨ Supabase)
- **ORM**: [Drizzle ORM 0.44.7](https://orm.drizzle.team/)
- **è®¤è¯**: [Better Auth 1.3.32](https://www.better-auth.com/)
- **éªŒè¯**: [Zod 4.1.12](https://zod.dev/)

### å¼€å‘å·¥å…·
- **ä»£ç æ£€æŸ¥**: [ESLint](https://eslint.org/)
- **æ ¼å¼åŒ–**: [Prettier](https://prettier.io/)
- **åŒ…ç®¡ç†**: [pnpm](https://pnpm.io/)

## ğŸ“ é¡¹ç›®ç»“æ„

```
nextjs-better-auth-main/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/          # Better Auth ç«¯ç‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ products/      # äº§å“å…¬å¼€ API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts   # GET /api/products
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/      # GET /api/products/[id]
â”‚   â”‚   â”‚   â””â”€â”€ admin/         # ç®¡ç†å‘˜ API
â”‚   â”‚   â”‚       â””â”€â”€ products/  # POST/PUT/DELETE
â”‚   â”‚   â”œâ”€â”€ (routes)/          # é¡µé¢è·¯ç”±ç»„
â”‚   â”‚   â”‚   â”œâ”€â”€ shop/          # å•†åº—é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ (auth)/        # è®¤è¯é¡µé¢
â”‚   â”‚   â”‚       â”œâ”€â”€ signin/    # ç™»å½•
â”‚   â”‚   â”‚       â””â”€â”€ signup/    # æ³¨å†Œ
â”‚   â”‚   â”œâ”€â”€ admin/            # ç®¡ç†åå°
â”‚   â”‚   â”‚   â””â”€â”€ products/     # /admin/products
â”‚   â”‚   â””â”€â”€ page.tsx          # é¦–é¡µ
â”‚   â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/               # åŸºç¡€ UI ç»„ä»¶
â”‚   â”‚   â””â”€â”€ store/            # å•†åº—ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ Header.tsx
â”‚   â”‚       â”œâ”€â”€ ProductCard.tsx
â”‚   â”‚       â”œâ”€â”€ ProductGrid.tsx
â”‚   â”‚       â”œâ”€â”€ CartDrawer.tsx
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”œâ”€â”€ contexts/             # React Context
â”‚   â”‚   â”œâ”€â”€ CartContext.tsx   # è´­ç‰©è½¦çŠ¶æ€
â”‚   â”‚   â””â”€â”€ ViewContext.tsx   # è§†å›¾çŠ¶æ€
â”‚   â”œâ”€â”€ lib/                  # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ auth/            # Better Auth é…ç½®
â”‚   â”‚   â”œâ”€â”€ hooks/           # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ api/             # API å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ utils.ts         # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ db/                   # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ schema/          # Drizzle Schema
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts      # ç”¨æˆ·ã€ä¼šè¯è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ products.ts  # äº§å“è¡¨
â”‚   â”‚   â””â”€â”€ index.ts         # æ•°æ®åº“è¿æ¥
â”‚   â””â”€â”€ types/                # TypeScript ç±»å‹
â”œâ”€â”€ drizzle/                  # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”œâ”€â”€ public/                   # é™æ€èµ„æº
â””â”€â”€ package.json             # é¡¹ç›®ä¾èµ–
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 18 æˆ–æ›´é«˜ç‰ˆæœ¬
- pnpmï¼ˆæ¨èï¼‰æˆ– npm
- [Supabase](https://supabase.com/) è´¦æˆ·ï¼ˆå…è´¹ï¼‰

### å®‰è£…æ­¥éª¤

**1. å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/HEXING19/SouthStore.git
cd SouthStore/nextjs-better-auth-main
```

**2. å®‰è£…ä¾èµ–**

```bash
pnpm install
# æˆ–
npm install
```

**3. é…ç½®ç¯å¢ƒå˜é‡**

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL="postgresql://user:password@host:port/database"
DIRECT_URL="postgresql://user:password@host:port/database"

# Better Auth é…ç½®
BETTER_AUTH_SECRET="your-secret-key-here"
BETTER_AUTH_BASE_URL="http://localhost:3000"
NEXT_PUBLIC_BASE_URL="http://localhost:3000"

# Google OAuthï¼ˆå¯é€‰ï¼‰
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
```

**4. è®¾ç½®æ•°æ®åº“**

```bash
# ç”Ÿæˆè¿ç§»æ–‡ä»¶
pnpm run db:generate

# æ‰§è¡Œæ•°æ®åº“è¿ç§»
pnpm run db:migrate
```

**5. åˆ›å»ºäº§å“è¡¨ï¼ˆå¦‚æœè¿ç§»æœªåŒ…å«ï¼‰**

åœ¨ Supabase SQL Editor ä¸­æ‰§è¡Œï¼š

```sql
CREATE TABLE "products" (
  "id" text PRIMARY KEY NOT NULL,
  "name" text NOT NULL,
  "category" text NOT NULL,
  "price" numeric(10, 2) NOT NULL,
  "description" text NOT NULL,
  "image" text NOT NULL,
  "rating" numeric(3, 2) DEFAULT '0' NOT NULL,
  "stock" text DEFAULT '0',
  "createdAt" timestamp DEFAULT now(),
  "updatedAt" timestamp DEFAULT now()
);

CREATE INDEX "products_category_idx" ON "products" USING btree ("category");
CREATE INDEX "products_name_idx" ON "products" USING btree ("name");
```

**6. å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
pnpm dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

## ğŸ“š API æ–‡æ¡£

### è®¤è¯ API

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | è®¤è¯ |
|------|------|------|------|
| `/api/auth/sign-up` | POST | ç”¨æˆ·æ³¨å†Œ | âŒ |
| `/api/auth/sign-in` | POST | ç”¨æˆ·ç™»å½• | âŒ |
| `/api/auth/sign-out` | POST | ç”¨æˆ·ç™»å‡º | âœ… |
| `/api/auth/session` | GET | è·å–ä¼šè¯ä¿¡æ¯ | âœ… |

### äº§å“å…¬å¼€ API

#### è·å–äº§å“åˆ—è¡¨
```
GET /api/products
```

**æŸ¥è¯¢å‚æ•°**ï¼š
- `category` (å¯é€‰): äº§å“ç±»åˆ« - `Clothing`, `Hardware`, `Home`, `Electronics`, `All`
- `search` (å¯é€‰): æœç´¢å…³é”®è¯
- `limit` (å¯é€‰): æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤ 50ï¼Œæœ€å¤§ 100ï¼‰
- `offset` (å¯é€‰): åç§»é‡ï¼ˆé»˜è®¤ 0ï¼‰
- `sort` (å¯é€‰): æ’åºå­—æ®µ - `name`, `price`, `rating`ï¼ˆé»˜è®¤ nameï¼‰
- `order` (å¯é€‰): æ’åºæ–¹å‘ - `asc`, `desc`ï¼ˆé»˜è®¤ ascï¼‰

**ç¤ºä¾‹**ï¼š
```bash
# è·å–æ‰€æœ‰äº§å“
curl http://localhost:3000/api/products

# æŒ‰ç±»åˆ«ç­›é€‰
curl http://localhost:3000/api/products?category=Clothing

# æœç´¢äº§å“
curl http://localhost:3000/api/products?search=drill

# æ’åºå’Œåˆ†é¡µ
curl "http://localhost:3000/api/products?sort=price&order=desc&limit=10&offset=20"
```

#### è·å–å•ä¸ªäº§å“
```
GET /api/products/[id]
```

**ç¤ºä¾‹**ï¼š
```bash
curl http://localhost:3000/api/products/prod_123
```

### ç®¡ç†å‘˜ APIï¼ˆéœ€è¦è®¤è¯å’Œ admin è§’è‰²ï¼‰

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | æƒé™ |
|------|------|------|------|
| `/api/admin/products` | GET | è·å–æ‰€æœ‰äº§å“ | Admin |
| `/api/admin/products` | POST | åˆ›å»ºäº§å“ | Admin |
| `/api/admin/products` | PUT | æ›´æ–°äº§å“ | Admin |
| `/api/admin/products` | DELETE | åˆ é™¤äº§å“ | Admin |

**åˆ›å»ºäº§å“ç¤ºä¾‹**ï¼š
```bash
curl -X POST http://localhost:3000/api/admin/products \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "name": "Classic Denim Jacket",
    "category": "Clothing",
    "price": 899.99,
    "description": "Durable and stylish denim jacket",
    "image": "/products/product-1.jpg",
    "rating": 4.5,
    "stock": 50
  }'
```

## ğŸ’¾ æ•°æ®åº“ Schema

### Products è¡¨

```sql
CREATE TABLE "products" (
  "id" text PRIMARY KEY,           -- äº§å“ ID
  "name" text NOT NULL,             -- äº§å“åç§°
  "category" text NOT NULL,         -- ç±»åˆ«ï¼šClothing/Hardware/Home/Electronics
  "price" numeric(10, 2) NOT NULL,  -- ä»·æ ¼ï¼ˆå—éå…°ç‰¹ï¼‰
  "description" text NOT NULL,      -- äº§å“æè¿°
  "image" text NOT NULL,            -- å›¾ç‰‡ URL
  "rating" numeric(3, 2) DEFAULT '0', -- è¯„åˆ†ï¼ˆ0-5ï¼‰
  "stock" text DEFAULT '0',         -- åº“å­˜æ•°é‡
  "createdAt" timestamp DEFAULT now(),  -- åˆ›å»ºæ—¶é—´
  "updatedAt" timestamp DEFAULT now()   -- æ›´æ–°æ—¶é—´
);

-- ç´¢å¼•
CREATE INDEX "products_category_idx" ON "products" ("category");
CREATE INDEX "products_name_idx" ON "products" ("name");
```

### è®¤è¯è¡¨ï¼ˆBetter Auth è‡ªåŠ¨åˆ›å»ºï¼‰

- `user` - ç”¨æˆ·è¡¨
- `account` - å…³è”è´¦æˆ·è¡¨
- `session` - ä¼šè¯è¡¨
- `verification` - éªŒè¯è¡¨

## âš™ï¸ ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | å¿…éœ€ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `DATABASE_URL` | Supabase è¿æ¥æ±  URL | âœ… | - |
| `DIRECT_URL` | æ•°æ®åº“ç›´æ¥è¿æ¥ URL | âœ… | - |
| `BETTER_AUTH_SECRET` | è®¤è¯å¯†é’¥ | âœ… | - |
| `BETTER_AUTH_BASE_URL` | åº”ç”¨ URL | âœ… | `http://localhost:3000` |
| `NEXT_PUBLIC_BASE_URL` | å…¬å¼€ URL | âœ… | `http://localhost:3000` |
| `GOOGLE_CLIENT_ID` | Google OAuth ID | âŒ | - |
| `GOOGLE_CLIENT_SECRET` | Google OAuth å¯†é’¥ | âŒ | - |

## ğŸ“œ å¯ç”¨è„šæœ¬

```bash
# å¼€å‘
pnpm dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆTurbopackï¼‰
pnpm build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm start            # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm lint             # ä»£ç æ£€æŸ¥

# æ•°æ®åº“
pnpm run db:generate  # ç”Ÿæˆè¿ç§»æ–‡ä»¶
pnpm run db:migrate   # æ‰§è¡Œæ•°æ®åº“è¿ç§»
pnpm run db:studio    # æ‰“å¼€ Drizzle Studioï¼ˆæ•°æ®åº“ç®¡ç†ç•Œé¢ï¼‰
```

## ğŸŒ éƒ¨ç½²

### Vercel éƒ¨ç½²

**1. æ¨é€ä»£ç åˆ° GitHub**

```bash
git push origin main
```

**2. åœ¨ Vercel ä¸­å¯¼å…¥é¡¹ç›®**

- è®¿é—® [Vercel Dashboard](https://vercel.com/dashboard)
- ç‚¹å‡» "New Project"
- å¯¼å…¥ `HEXING19/SouthStore`

**3. é…ç½®ç¯å¢ƒå˜é‡**

åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ï¼š
- `DATABASE_URL`
- `DIRECT_URL`
- `BETTER_AUTH_SECRET`
- `BETTER_AUTH_BASE_URL`ï¼ˆè®¾ç½®ä¸ºä½ çš„åŸŸåï¼‰
- `NEXT_PUBLIC_BASE_URL`ï¼ˆè®¾ç½®ä¸ºä½ çš„åŸŸåï¼‰
- `GOOGLE_CLIENT_ID` å’Œ `GOOGLE_CLIENT_SECRET`ï¼ˆå¯é€‰ï¼‰

**4. éƒ¨ç½²**

Vercel ä¼šè‡ªåŠ¨éƒ¨ç½²ã€‚è®¿é—®æä¾›çš„ URL æŸ¥çœ‹åº”ç”¨ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ å¼€å‘æŒ‡å—

### ä»£ç é£æ ¼

- ä½¿ç”¨ TypeScript ç¼–å†™æ‰€æœ‰ä»£ç 
- éµå¾ª ESLint è§„åˆ™
- ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç 

### æäº¤è§„èŒƒ

- feat: æ–°åŠŸèƒ½
- fix: ä¿®å¤ bug
- docs: æ–‡æ¡£æ›´æ–°
- style: ä»£ç æ ¼å¼è°ƒæ•´
- refactor: ä»£ç é‡æ„
- test: æµ‹è¯•ç›¸å…³
- chore: æ„å»º/å·¥å…·é“¾ç›¸å…³

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/)
- [Better Auth](https://www.better-auth.com/)
- [Drizzle ORM](https://orm.drizzle.team/)
- [Supabase](https://supabase.com/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Radix UI](https://www.radix-ui.com/)

---

**Made with â¤ï¸ for South Africa E-commerce**

åœ¨çº¿æ¼”ç¤ºï¼š[https://south-store.vercel.app](https://south-store.vercel.app)
